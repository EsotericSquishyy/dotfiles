set -g @plugin 'tmux-plugins/tpm'

set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# Status bar (https://github.com/vaaleyard/tmux-dotbar)

bg="default"
fg="#6666ea"
alt_fg="#f22c40"
left_text="#S"
right_text="%H:%M"
zoom_icon="󰊓"

set -g status on
set -g status-keys vi
set -g status-position top

set -g status-style "bg=$bg,fg=$fg"
set -g status-justify "absolute-centre"

set -g status-left "#[bg=$bg,fg=$fg]#{?client_prefix,, $left_text }#[bg=$bg,fg=$alt_fg,bold]#{?client_prefix, $left_text ,}"
set -g status-right $right_text

setw -g window-status-separator " • "
set -g window-status-style "bg=$bg,fg=$fg"
set -g window-status-format " #W #{?window_zoomed_flag,$zoom_icon,}"
set -g window-status-current-format "#[bg=$bg,fg=$alt_fg] #W #{?window_zoomed_flag,$zoom_icon,}"

# set -g @plugin 'vaaleyard/tmux-dotbar'
# set -g @tmux-dotbar-bg $bg
# set -g @tmux-dotbar-fg $fg
# set -g @tmux-dotbar-fg-current $alt_fg
# set -g @tmux-dotbar-fg-session $fg
# set -g @tmux-dotbar-fg-prefix $alt_fg
# set -g @tmux-dotbar-position top
# set -g @tmux-dotbar-justify "absolute-centre"


set -g @plugin 'christoomey/vim-tmux-navigator'
# https://github.com/christoomey/vim-tmux-navigator/issues/317#issuecomment-2483129754
set -g @vim_navigator_mapping_left  "C-h"
set -g @vim_navigator_mapping_right "C-l"
set -g @vim_navigator_mapping_up    "C-k"
set -g @vim_navigator_mapping_down  "C-j"
set -g @vim_navigator_mapping_prev  "C-\\"

set  -g default-terminal "xterm-256color"
set  -g base-index       1
setw -g pane-base-index  1

set -g mode-keys vi

# rebind main key: C-s
unbind C-b
set -g prefix C-s
bind -N "Send the prefix key" C-s send-prefix

bind -N "Kill the current window" & kill-window
bind -N "Kill the current pane" x kill-pane

set  -g mouse             on
set  -g focus-events      on
setw -g aggressive-resize off
setw -g clock-mode-style  24
set  -s escape-time       0
set  -g history-limit     2000






# Resizing
bind -r h resize-pane -L 5
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5

# Splitting
bind _ split-window -vc "#{pane_current_path}"
bind | split-window -hc "#{pane_current_path}"
unbind '"'
unbind %

bind c new-window -c "#{pane_current_path}"

bind > swap-pane -D             # swap current pane with the next one
bind < swap-pane -U             # swap current pane with the previous one

setw -g automatic-rename on     # rename window to reflect current program (turn off if you want to rename)
set -g renumber-windows on      # renumber windows when a window is closed
set -g set-titles on            # set terminal title

# Reloading
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded!"

run '~/.tmux/plugins/tpm/tpm'
